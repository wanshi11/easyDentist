<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>用户管理</title>

    <#include "/common/admin_css.html"/>
    <style>
    .layui-laypage-btn{
    color: #333;
    }
    </style>
</head>

<body>

    <div id="wrapper">
       <#include "/common/admin_header_left.html"/>
		<div id="page-wrapper">
			<div class="row">
				<div class="col-lg-12">
					<h3 class="page-header">用户管理</h3>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-12">
					<p>
						<a type="button" class="btn btn-info"
							href="${request.contextPath}/admin/user/toEdit">添加用户</a>
					</p><br/>
					<div class="panel panel-default">
						<div class="panel-heading">检索用户列表</div>
						<br />
						<br />
						<table class="layui-hide" id="userTable"></table>

					</div>
				</div>
			</div>
		</div>



		<!-- <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h3 class="page-header">用户管理</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                        <p><a type="button" class="btn btn-primary" href="${request.contextPath}/admin/user/toEdit">添加用户</a></p>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                                                                   用户列表
                        </div>                  
                        <div class="panel-body">
                            <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>用户名</th>
                                        <th>姓名</th>
                                        <th>性别</th>
                                        <th>手机号</th>
                                        <th>QQ</th>
                                        <th>IP</th>
                                        <th>TIME</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                <#if userlist?? && (userlist?size > 0) >
                                <#list userlist as user>
                                    <tr class="odd gradeX">
                                         <td>${user.id}</td>
                                        <td>${user.username}</td>
                                        <td>${user.realname}</td>
                                        <td>
                                        <#if user.sex == true>
                                                                                                       男<#else>女
                                        </#if>
                                        </td>
                                        <td>${user.phoneno}</td>
                                        <td>${user.qq}</td>
                                        <td>${user.ip}</td>
                                        <td>${user.createtime?string("yyyy-MM-dd HH:mm:ss")}</td>
                                        <td>
                                        <a type="button" class="btn btn-primary btn-sm"
                                        href="${pageContext.request.contextPath}/admin/user/update/${user.id}">修改
                                        </a>
                                         <a type="button" class="btn btn-danger btn-sm"
                                          href="${pageContext.request.contextPath}/admin/user/delete/${user.id}">删除
                                        </a>
                                        </td>
                                    </tr>
                                    </#list>
                                    </#if>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>      
        </div> -->
    </div>

    
   <#include "/common/admin_js.html"/> <!-- 后台公共js -->
    <!-- Page-Level Demo Scripts - Tables - Use for reference -->
    <script>
    
    layui.use('table', function(){
    	  var table = layui.table;
    	  
    	 var mytable =  table.render({
    	    elem: '#userTable'
    	    ,url:'${request.contextPath}/admin/user/userList'
    	    ,method:'post'
    	    ,cols: [[
               /* {type:'numbers'} */
              {type: 'checkbox'}
    	      ,{field:'id', width:50, title: 'ID', sort: true}
    	      ,{field:'username', width:100, title: '用户名'}
    	      ,{field:'realname', width:100, title: '姓名' }
    	      ,{field:'sex', width:80, title: '性别',templet: function(d){
    	    	 if(d.sex){
    	    		return '男';
    	    	 }else{
    	    		 return '女';
    	    	 }
    	      }}
    	      ,{field:'phoneno', width:120, title: '手机号'}
    	      ,{field:'qq', width:120, title: 'QQ' }
    	      ,{field:'ip', width:120, title: 'IP'}
    	      ,{field:'createtime', width:140, title: 'TIME', sort: true}
    	    ]]
    	    ,count:15
    	    ,theme:'orange'
    	    ,where: {
    	    	
  		      }
    	    ,page: {layout: ['limit', 'count', 'prev', 'page', 'next', 'skip']
    	       //,curr: 5 //设定初始在第 5 页
    	      //,groups: 1 //只显示 1 个连续页码
    	      //,first: false //不显示首页
    	      //,last: false //不显示尾页
    	    }
    	    ,jump: function(obj, first){
    	        //obj包含了当前分页的所有参数，比如：
    	        console.log(obj.curr); //得到当前页，以便向服务端请求对应页的数据。
    	        console.log(obj.limit); //得到每页显示的条数
    	        
    	        //首次不执行
    	        if(!first){
    	          //do something
    	        }
    	      }
    	  });

    	});

    </script>
    
    <script type="text/html" id="sexTpl">
  {{#  if(data.sex === false){ }}
    <span style="color: #F581B1;">{{ data.sex }}</span>
  {{#  } else { }}
    {{ data.sex }}
  {{#  } }}
</script>

</body>

</html>
